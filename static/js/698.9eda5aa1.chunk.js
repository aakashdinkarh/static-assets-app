"use strict";(self.webpackChunkstatic_assets_app=self.webpackChunkstatic_assets_app||[]).push([[698],{698:(e,a,t)=>{t.r(a),t.d(a,{UploadPage:()=>L});var r=t(43),s=t(981),n=t(893);const i={form:"imageUploader_form__1KRB0",formGroup:"imageUploader_formGroup__OFre5",label:"imageUploader_label__xKTyW",input:"imageUploader_input__gjq8Y",button:"imageUploader_button__2l2RS",fileInputWrapper:"imageUploader_fileInputWrapper__yNFy9",fileInputContainer:"imageUploader_fileInputContainer__oGP90",previewContainer:"imageUploader_previewContainer__jwofY",previewImage:"imageUploader_previewImage__tYdAv",previewPlaceholder:"imageUploader_previewPlaceholder__uHrAK"};var l=t(409),o=t(555),c=t(986);const m="input_label__xuGk1",u="input_input__NwTQL",d="input_error__Ivs9h",p="input_inputGroup__4feuD";var h=t(394),g=t(579);const f=["label","errorMessage","name","labelClassName","inputGroupClassName","errorClassName","className","required"],_=e=>{let{label:a,errorMessage:t,name:r,labelClassName:s,inputGroupClassName:n,errorClassName:i,className:l,required:_=!0}=e,v=(0,c.A)(e,f);return(0,g.jsxs)("div",{className:(0,h.z)(p,n),children:[(0,g.jsx)("label",{htmlFor:r,className:(0,h.z)(m,s),children:a}),(0,g.jsx)("input",(0,o.A)({type:"text",id:r,name:r,className:(0,h.z)(u,l),required:_},v)),t&&(0,g.jsx)("div",{className:(0,h.z)(d,i),children:t})]})},v=["children","validateAll","onSubmit","onError"],y=e=>{let{children:a,validateAll:t=!1,onSubmit:r,onError:s}=e,n=(0,c.A)(e,v);return(0,g.jsx)("form",(0,o.A)((0,o.A)({noValidate:t,onSubmit:e=>{e.preventDefault();const a=e.target;if(t){const e=a.elements,t={};if(Array.from(e).forEach((e=>{(e=>(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)&&!e.checkValidity())(e)&&(t[e.name]=(e=>{var a,t,r;const{validity:s}=e,n=null===(a=e.labels)||void 0===a||null===(t=a[0])||void 0===t||null===(r=t.textContent)||void 0===r?void 0:r.trim();if(n){if(s.valueMissing)return"".concat(n," is required.");if(s.typeMismatch)return"Please enter ".concat(n," in a valid format.");if(s.patternMismatch)return"".concat(n," does not match the expected pattern.");if(s.tooShort&&"minLength"in e)return"".concat(n," must be at least ").concat(e.minLength," characters.");if(s.tooLong&&"maxLength"in e)return"".concat(n," must be at most ").concat(e.maxLength," characters.");if(s.rangeUnderflow&&"min"in e)return"".concat(n," must be at least ").concat(e.min,".");if(s.rangeOverflow&&"max"in e)return"".concat(n," must be at most ").concat(e.max,".");if(s.stepMismatch)return"".concat(n," must be a valid step value.");if(s.badInput)return"".concat(n," must be a number.");if(s.customError)return"".concat(n," has a custom error.")}return s.valueMissing?"This field is required.":s.typeMismatch?"Please enter a valid format.":s.patternMismatch?"Input does not match the expected pattern.":s.tooShort&&"minLength"in e?"Minimum length is ".concat(e.minLength," characters."):s.tooLong&&"maxLength"in e?"Maximum length is ".concat(e.maxLength," characters."):s.rangeUnderflow&&"min"in e?"Value should be at least ".concat(e.min,"."):s.rangeOverflow&&"max"in e?"Value should be at most ".concat(e.max,"."):s.stepMismatch?"Please enter a valid step value.":s.badInput?"Please enter a number.":s.customError?e.validationMessage:""})(e))})),Object.keys(t).length>0)return void(null===s||void 0===s||s(t))}const n=new FormData(a),i=Object.fromEntries(n);r(i,a)}},n),{},{children:a}))},b={file:"file",directory:"directory",filename:"filename"},x=(e,a)=>{if(!e)return;const t=e.elements[b.filename];t&&(t.value=a||"")};function j(e){let{onSuccess:a,onError:t}=e;const[o,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),[d,p]=(0,r.useState)({});(0,r.useEffect)((()=>()=>{m&&URL.revokeObjectURL(m)}),[m]);return(0,g.jsxs)(y,{onSubmit:async(e,r)=>{const s=e[b.file],i=e[b.directory],l=e[b.filename];if(s&&i&&l){c(!0);try{const e=await(0,n.eC)({file:s,directory:i,filename:l,commitMessage:"Upload ".concat(l)});null===a||void 0===a||a(e),r.reset(),u(null)}catch(o){null===t||void 0===t||t(o instanceof Error?o.message:"Failed to upload image")}finally{c(!1)}}else null===t||void 0===t||t("Please fill in all fields")},validateAll:!0,onError:p,className:i.form,children:[(0,g.jsxs)("div",{className:i.fileInputWrapper,children:[(0,g.jsx)("div",{className:i.fileInputContainer,children:(0,g.jsx)(_,{label:"Image File",name:b.file,type:"file",accept:"image/*",onChange:e=>{var a;const t=null===(a=e.target.files)||void 0===a?void 0:a[0];try{x(e.target.form,null===t||void 0===t?void 0:t.name)}catch(r){}if(t){const e=URL.createObjectURL(t);u(e)}else u(null)},errorMessage:d[b.file],required:!0})}),(0,g.jsx)("div",{className:i.previewContainer,children:m?(0,g.jsx)(s._,{src:m,alt:"Preview",className:i.previewImage,width:300,height:200,style:{objectFit:"contain"}}):(0,g.jsx)("span",{className:i.previewPlaceholder,children:"Image preview will appear here"})})]}),(0,g.jsx)(_,{label:"Directory Path",name:b.directory,placeholder:"e.g., images/blog",errorMessage:d[b.directory]}),(0,g.jsx)(_,{label:"File Name",name:b.filename,placeholder:"e.g., header-image.jpg",errorMessage:d[b.filename]}),(0,g.jsx)(l.jn,{type:"submit",disabled:o,style:w,children:o?"Uploading...":"Upload Image"})]})}const w={justifyContent:"center"},N={title:"page_title__c2NqO",statusMessage:"page_statusMessage__EOma9",success:"page_success__9Ysa+",error:"page_error__4z8Yk",imageLink:"page_imageLink__VR1CN",instructions:"page_instructions__v0Iqh",instructionsTitle:"page_instructionsTitle__9yBST",instructionsList:"page_instructionsList__yDC14"};function L(){const[e,a]=(0,r.useState)({type:null,message:""});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{className:N.title,children:"Upload Images to GitHub"}),e.type&&(0,g.jsxs)("div",{className:"".concat(N.statusMessage," ").concat("success"===e.type?N.success:N.error),children:[(0,g.jsx)("p",{children:e.message}),e.url&&(0,g.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:N.imageLink,children:"View uploaded image"})]}),(0,g.jsx)(j,{onSuccess:e=>{a({type:"success",message:e.message,url:e.url})},onError:e=>{a({type:"error",message:e})}}),(0,g.jsxs)("div",{className:N.instructions,children:[(0,g.jsx)("h2",{className:N.instructionsTitle,children:"Instructions:"}),(0,g.jsxs)("ul",{className:N.instructionsList,children:[(0,g.jsx)("li",{children:"Select an image file to upload"}),(0,g.jsx)("li",{children:"Specify the target directory in the repository (e.g., \u201cimages/blog\u201d)"}),(0,g.jsx)("li",{children:"Provide a filename for the image (e.g., \u201cheader-image.jpg\u201d)"}),(0,g.jsx)("li",{children:"The image will be committed to your configured GitHub repository"})]})]})]})}},893:(e,a,t)=>{t.d(a,{U2:()=>m,Ji:()=>l,QF:()=>c,eC:()=>o});var r=t(392),s=t(524);const n=()=>{const e=(0,s.Ri)(s.v$)||"";return{[s.v$]:e}};var i=t(323);const l=async e=>{const a="".concat(r.BQ.url,"?path=").concat(e),t=await fetch(a);await(0,i.L)(t);const s=(await t.json()).data.data;return Array.isArray(s)?s:[s]},o=async e=>{let{file:a,directory:t,filename:s,commitMessage:l}=e;const o=new FormData;o.append("file",a),o.append("directory",t),o.append("filename",s),o.append("commit_message",l);const c=await fetch(r.sV.url,{method:r.sV.method,headers:n(),body:o});await(0,i.L)(c);return(await c.json()).data},c=async e=>{let{path:a,content:t,commitMessage:s,sha:l}=e;const o=await fetch(r.Yl.url,{method:r.Yl.method,headers:n(),body:JSON.stringify({path:a,content:t,commitMessage:s,sha:l})});await(0,i.L)(o);return(await o.json()).data},m=async e=>{let{path:a,message:t,sha:s}=e;const l=t||"Delete ".concat(a),o=await fetch(r.c8.url,{method:r.c8.method,headers:n(),body:JSON.stringify({path:a,commitMessage:l,sha:s})});await(0,i.L)(o)}}}]);
//# sourceMappingURL=698.9eda5aa1.chunk.js.map